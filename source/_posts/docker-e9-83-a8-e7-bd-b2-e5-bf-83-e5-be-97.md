---
title: " docker部署心得\t\t"
url: 215.html
id: 215
comments: false
categories:
  - docker
date: 2018-07-13 15:05:02
tags:
---

1.  关于网络的选择，如果和宿主机上的其它服务关联运行，选择host模式的网络会更方便，这样就可以用127.0.0.1了。比如nginx需要做转发就用host网络，还有就是注册中心，因为其他服务要依赖它，所以最好它的地址是固定的，用host网络只需要固定端口号，它的地址就被固定成127.0.0.1:port。但是防火墙是不会自动加到白名单里的，需要自己手动加。
2.  如果服务自己能对立运行就不需要了。直接用默认网络用-p映射出去，不需要防火墙加白名单自动放开这个端口。
3.  如果用host网络不需要指定端口号，默认会使用配置文件里的。如果想同时运行2个程序就要用-e修改SERVER_PORT了。
4.  如果说打包的名称格式符合直接推送的格式就不需要再打tag了，直接push即可